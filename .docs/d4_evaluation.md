# LAMARL 結果出力・可視化・評価（論文準拠）

## 評価指標（Metrics）


| 指標 | 内容 | 表示形式 |
|------|------|-----------|
| **Coverage (M1)** | 目標形状のセルのうち、ロボットが占めた割合。 | エピソードごとの折れ線グラフ（0〜1） |
| **Uniformity (M2)** | 各ロボットのVoronoi領域の分散。小さいほど均一。 | 折れ線グラフまたは棒グラフ（低い方が良い） |
---

## 可視化（Visualization）

| 表示要素 | 意味 |
|-----------|------|
| 白背景に灰色の**目標形状（circle, L, A, M, R, L）** | 目標配置の基準 |
| 青点：ロボット | 現在位置 |
| 薄い円：感知半径（r_sense） | 観測領域を示す |
| 赤線：衝突（r_avoid以内）時のみ表示 | 回避挙動確認用 |
| ステップを進めるごとに座標更新 | 群形成の過程を示すアニメーション |

---

## 出力（Results / Logs）

| 出力内容 | 例 |
|-----------|----|
| 最終 Coverage / Uniformity | M1 = 0.87, M2 = 0.12 |
| 成功判定 | 収束済み: Coverage > 0.8 & Uniformity < 0.2 |
| エピソード数 / ステップ数 | 500 / 100 |
| LLM 出力（CoT ログ） | “The robots should form a circle by attraction to the center...” |
| 報酬関数・行動関数（出力コード） | 折りたたみで Python 関数を表示 |

出力形式：  
- `metrics.json`（M1/M2 の推移）  
- `final_shape.png`（最終配置スクリーンショット）

---

## 要約

1. **Coverage (M1)**：高いほど良い  
2. **Uniformity (M2)**：低いほど良い  
3. 軌跡・配置・数値を同時に可視化して、学習の進行と安定性を評価する
